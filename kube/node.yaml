apiVersion: v1
kind: Pod
metadata:
  name: all-pod
spec:
  volumes:
  - name: pv-storage
    persistentVolumeClaim:
      claimName: pv-claim
  containers:
  - name: apache
    image: brianbaugher/daily-bugle:apache 
    imagePullPolicy: Always
    ports:
    - containerPort: 80
      name: "apache"
  - name: article
    image: brianbaugher/daily-bugle:article
    imagePullPolicy: Always
    ports:
    - containerPort: 3011
      name: "article"
  - name: ad
    imagePullPolicy: Always
    image: brianbaugher/daily-bugle:ad
    ports:
    - containerPort: 3012
      name: "ad"
  - name: auth
    image: brianbaugher/daily-bugle:auth
    imagePullPolicy: Always
    ports:
    - containerPort: 3013
      name: "auth"
  - name: mongo
    image: mongo 
    ports:
      - containerPort: 27017
        name: "mongo"
    volumeMounts:
      - mountPath: "/data/db"
        name: pv-storage
