apiVersion: v1
kind: Pod
metadata:
  name: all-pod
spec:
  volumes:
  - name: pv-storage
    persistentVolumeClaim:
      claimName: pv-claim
  containers:
  - name: apache
    image: daily-bugle-kube-apache 
    imagePullPolicy: Never
    ports:
    - containerPort: 80
      name: "apache"
  - name: article
    image: daily-bugle-kube-article
    imagePullPolicy: Never
    ports:
    - containerPort: 3011
      name: "article"
  - name: ad
    image: daily-bugle-kube-ad
    imagePullPolicy: Never
    ports:
    - containerPort: 3012
      name: "ad"
  - name: auth
    image: daily-bugle-kube-auth
    imagePullPolicy: Never
    ports:
    - containerPort: 3013
      name: "auth"
  - name: mongo
    image: daily-bugle-kube-mongo
    imagePullPolicy: Never
    ports:
      - containerPort: 27017
        name: "mongo"
    volumeMounts:
      - mountPath: "/data/db"
        name: pv-storage
